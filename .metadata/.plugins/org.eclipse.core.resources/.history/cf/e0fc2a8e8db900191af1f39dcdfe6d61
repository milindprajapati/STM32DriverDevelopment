/*
 * stm32f302xx_gpio.h
 *
 *  Created on: Aug 6, 2019
 *      Author: milin
 */

#ifndef INC_STM32F302XX_GPIO_H_
#define INC_STM32F302XX_GPIO_H_

#include "stm32f302xx.h"

#define GPIO_PIN_0                 ((uint16_t)0x0001)  /*!< Pin 0 selected    */
#define GPIO_PIN_1                 ((uint16_t)0x0002)  /*!< Pin 1 selected    */
#define GPIO_PIN_2                 ((uint16_t)0x0004)  /*!< Pin 2 selected    */
#define GPIO_PIN_3                 ((uint16_t)0x0008)  /*!< Pin 3 selected    */
#define GPIO_PIN_4                 ((uint16_t)0x0010)  /*!< Pin 4 selected    */
#define GPIO_PIN_5                 ((uint16_t)0x0020)  /*!< Pin 5 selected    */
#define GPIO_PIN_6                 ((uint16_t)0x0040)  /*!< Pin 6 selected    */
#define GPIO_PIN_7                 ((uint16_t)0x0080)  /*!< Pin 7 selected    */
#define GPIO_PIN_8                 ((uint16_t)0x0100)  /*!< Pin 8 selected    */
#define GPIO_PIN_9                 ((uint16_t)0x0200)  /*!< Pin 9 selected    */
#define GPIO_PIN_10                ((uint16_t)0x0400)  /*!< Pin 10 selected   */
#define GPIO_PIN_11                ((uint16_t)0x0800)  /*!< Pin 11 selected   */
#define GPIO_PIN_12                ((uint16_t)0x1000)  /*!< Pin 12 selected   */
#define GPIO_PIN_13                ((uint16_t)0x2000)  /*!< Pin 13 selected   */
#define GPIO_PIN_14                ((uint16_t)0x4000)  /*!< Pin 14 selected   */
#define GPIO_PIN_15                ((uint16_t)0x8000)  /*!< Pin 15 selected   */

#define GPIO_MODE_IN		0
#define GPIO_MODE_OUT		1
#define GPIO_MODE_ALTFN		2
#define GPIO_MODE_ANALOG	3
#define GPIO_MODE_IT_FT		4
#define GPIO_MODE_IT_RT		5
#define GPIO_MODE_IT_RFT	6

#define GPIO_OTYPE_PP	0
#define GPIO_OTYPE_OD	1

#define GPIO_SPEED_LOW 		0
#define GPIO_SPEED_MEDIUM 	1
#define GPIO_SPEED_HIGH		2

#define GPIO_NO_PUPD	0
#define GPIO_PU			1
#define GPIO_PD			2


typedef struct{
	uint8_t GPIO_PinNumber;
	uint8_t GPIO_PinMode;
	uint8_t GPIO_PinSpeed;
	uint8_t GPIO_PinPuPdControl;
	uint8_t GPIO_PinOPType;
	uint8_t GPIO_PinAtlFunMode;
}GPIO_PinConfig_t;


typedef struct{
	GPIO_RegDef_t *pGPIOx;
	GPIO_PinConfig_t GPIO_PinConfig;
}GPIO_Handle_t;




/******************************
 * Supported API's
 *
 * ****************************
 */

/*Clk Setup*/
void GPIO_PeriClkCtrl(GPIO_RegDef_t *pGPIOx, uint8_t status);

/*
 * Init/DeInit IO
 */
void GPIO_Init(GPIO_Handle_t *pGPIOHandle);
void GPIO_DeInit(GPIO_RegDef_t *pGPIOx);

/*
 * Read Write Operations
 */
uint8_t GPIO_ReadFromInputPin(GPIO_RegDef_t *pGPIOx,uint8_t PinNumber);
uint16_t GPIO_ReadFromInputPort(GPIO_RegDef_t *pGPIOx);
void GPIO_WriteToOutputPin(GPIO_RegDef_t *pGPIOx,uint8_t PinNumber,uint8_t Value);
void GPIO_WriteToOutputPort(GPIO_RegDef_t *pGPIOx, uint16_t Value);
void GPIO_ToggleOutputPin(GPIO_RegDef_t *pGPIOx,uint8_t PinNumber);

/*
 * IRQ Config
 */
void GPIO_IRQConfig(uint8_t IRQNumber, uint8_t IRQPriority, uint8_t status);
void GPIO_IRQHandling(uint8_t PinNumber);
#endif /* INC_STM32F302XX_GPIO_H_ */
